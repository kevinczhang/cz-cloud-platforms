# S3 Performance

S3 can scale to very high request rates, however there are best practices to avoid account limits and to optimize your storage practices.

* Contact AWS support and have them prepare your account to avoid temporary limits when you expect bursts in the number of S3 requests to go over: 
  * 300 PUT/LIST/DELETE operations per second 
  * 800 GET requests per second
* Follow best practices to optimize your S3 storage to avoice overwhelming S3 when there are consistently high numbers of requests over: 
  * 100 PUT/LIST/DELETE operations per second 
  * 300 GET requests per second

## S3 - Intensive Mixed Request Workloads \(PUT, DELETE, LIST, GET\) 

Introducing Randomness to Avoid Overwhelming S3 Partitions: 

* S3 automatically creates and maintains an index of S3 key names in each AWS region 
* The keys are stored across multiple partitions in the index depending on the key name: These processes are handled behind the scenes by AWS 
* Adding a random prefix to the first few characters of a key can help spread the load across multiple partitions 
* Random prefixes can easily be generated by taking the MD5 hash of a keyname and prepending the first four characters of the hash to the keyname

#### Example:

Unoptimized bucket objects: 

* examplebucket/2013-26-05-15-00-00/cust1234234/photo1.jpg 
* examplebucket/2013-26-05-15-00-00/cust3857422/photo2.jpg

Optimized objects with hash prefix \(in bold\): 

* examplebucket/232a-2013-26-05-15-00-00/cust1234234/photo1.jpg 
* examplebucket/7b54-2013-26-05-15-00-00/cust3857422/photo2.jpg

## S3 GET Intensive Workloads 

**Introduce Randomness:** The same solution we would use for a intensive mixed request workload 

**Use Amazon CloudFront:** 

* Amazon CloudFront is a Content Delivery Network 
* Distribute content with low latency and high transfer rate 
* Cache S3 objects instead of making reqeusts to S3 \(this can reduce S3 costs\) 
* CloudFront will cache files at locations closer to the user than the S3 bucket \(which is usually inside a single region\): 
  * Reduces latency 
  * Improves data transfer rates 
* CloudFront helps avoid redundant requests to S3

