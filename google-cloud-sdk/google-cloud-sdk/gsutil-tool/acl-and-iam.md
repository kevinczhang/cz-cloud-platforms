---
description: 'acl - Get, set, or change bucket and/or object ACLs'
---

# ACL and IAM

## ACL

### Get <a id="get"></a>

The "acl get" command gets the ACL text for a bucket or object, which you can save and edit for the acl set command.

### Set <a id="set"></a>

The "acl set" command allows you to set an Access Control List on one or more buckets and objects. The simplest way to use it is to specify one of the canned ACLs, e.g.,:

```text
gsutil acl set private gs://bucket
```

Make changes to acl.txt such as adding an additional grant, then:

```text
gsutil acl set acl.txt gs://cats/file.txt
```

### Ch <a id="ch"></a>

The "acl ch" \(or "acl change"\) command updates access control lists

Grant anyone on the internet READ access to the object example-object:

```text
gsutil acl ch -u AllUsers:R gs://example-bucket/example-object
```

Grant the user [john.doe@example.com](mailto:john.doe%40example.com) WRITE access to the bucket example-bucket:

```text
gsutil acl ch -u john.doe@example.com:WRITE gs://example-bucket
```

## IAM

### iam - Get, set, or change bucket and/or object IAM permissions

```text
gsutil iam set [-afRr] [-e <etag>] file url ...
gsutil iam get url
gsutil iam ch [-fRr] binding ... url

where each binding is of the form:
      [-d] ("user"|"serviceAccount"|"domain"|"group"):id:role[,...]
      [-d] ("allUsers"|"allAuthenticatedUsers"):role[,...]
      -d ("user"|"serviceAccount"|"domain"|"group"):id
      -d ("allUsers"|"allAuthenticatedUsers")

Note: The ``iam ch`` command does not support changing IAM policies with
bindings that contain conditions. As such, ``iam ch`` cannot be used to add
conditions to a policy or to change the policy of a resource that already
contains conditions. See additional details below.

Note: The ``gsutil iam`` command disallows using project convenience groups
(projectOwner, projectEditor, projectViewer) as the first segment of a binding
because these groups go against the principle of least privilege.
```

### Get <a id="get"></a>

The `iam get` command gets the IAM policy for a bucket or object, which you can save and edit for use with the `iamset` command.

For example:

```text
gsutil iam get gs://example > bucket_iam.txt
gsutil iam get gs://example/important.txt > object_iam.txt
```

### Set <a id="set"></a>

The `iam set` command sets the IAM policy for one or more buckets and / or objects. It overwrites the current IAM policy that exists on a bucket \(or object\) with the policy specified in the input file. The `iam set` command takes as input a file with an IAM policy in the format of the output generated by `iam get`.

### Ch <a id="ch"></a>

The `iam ch` command incrementally updates IAM policies. 

### Ch Examples <a id="ch-examples"></a>

Examples for the `ch` sub-command:

To grant a single role to a single member for some targets:

```text
gsutil iam ch user:john.doe@example.com:objectCreator gs://ex-bucket
```

To make a bucket's objects publicly readable:

```text
gsutil iam ch allUsers:objectViewer gs://ex-bucket
```

To grant multiple bindings to a bucket:

```text
gsutil iam ch user:john.doe@example.com:objectCreator \
              domain:www.my-domain.org:objectViewer gs://ex-bucket
```

To specify more than one role for a particular member:

```text
gsutil iam ch user:john.doe@example.com:objectCreator,objectViewer \
              gs://ex-bucket
```

To specify a custom role for a particular member:

```text
gsutil iam ch user:john.doe@example.com:roles/customRoleName gs://ex-bucket
```

To apply a grant and simultaneously remove a binding to a bucket:

```text
gsutil iam ch -d group:readers@example.com:legacyBucketReader \
              group:viewers@example.com:objectViewer gs://ex-bucket
```

To remove a user from all roles on a bucket:

```text
gsutil iam ch -d user:john.doe@example.com gs://ex-bucket
```

